# Fixing return opcodes for untyped LPC methods

## Problem

The compiler previously emitted return opcodes based solely on the static type of each individual return expression. When an untyped LPC method was inferred as `mixed` (mapped to `java.lang.Object`) but returned a primitive expression, the bytecode would use `ireturn` even though the method descriptor expected an object. The JVM verifier rejected this mismatch with errors like:

```
java.lang.VerifyError: Bad return type
Exception Details:
  Location:
    obj/torch.short()Ljava/lang/Object; @73: ireturn
  Reason:
    Type integer (current frame, stack[0]) is not assignable to 'java/lang/Object' (from method signature)
```

## Torch example

The issue surfaced while loading `lpc2j.test.lpmud.obj.torch`. Its untyped `short()` function only returns strings, but the method was still treated as `mixed` and could fall back to a primitive return opcode:

```c
short() {
    if (is_lit)
        return name + " (lit)";
    if (amount_of_fuel == 0)
        return name + " (burnt out)";
    return name;
}
```

## Fix

Return statements now align with the declared (or inferred) return type of the surrounding method. Before emitting a return opcode, the compiler coerces the expression to the method's type (boxing primitives for `mixed` results when needed) and chooses the opcode from that method type. This keeps the generated bytecode consistent with the method descriptor and avoids verifier errors when an implicitly `mixed` method returns a primitive.

## Additional LPC scenarios handled by this change

- An untyped function that returns an integer sentinel but is otherwise used as a generic callback:

```c
handler(arg) {
    if (!arg) return 0;   /* now boxed before returning from a mixed method */
    return call_other(arg, "id");
}
```

- A string-building helper that falls through to an implicit `0` at the end of the function:

```c
describe(obj) {
    if (obj)
        return "You see " + call_other(obj, "short");
    /* implicit return now matches the mixed descriptor instead of ireturn */
}
```

By matching the opcode to the method's return type, these LPC snippets produce verifier-safe Java bytecode.
